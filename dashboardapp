
import 'package:flutter/material.dart';

void main() => runApp(MaterialApp(home: CourseApp()));

class CourseApp extends StatefulWidget {
  @override
  _CourseAppState createState() => _CourseAppState();
}

class _CourseAppState extends State<CourseApp> {
  int index = 0;
  String category = "Science";
  double btnSize = 60;

  final courses = [
    "Flutter Dev - Mr. Kwame",
    "Database Systems - Mrs. Adjoa",
    "Networking - Mr. Mensah",
    "AI & ML - Dr. Kofi",
    "Cyber Security - Dr. Efua"
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text("Course Dashboard"), actions: [
        IconButton(
          icon: Icon(Icons.logout),
          onPressed: () => showDialog(
            context: context,
            builder: (_) => AlertDialog(
              title: Text("Logout"),
              content: Text("Exit app?"),
              actions: [
                TextButton(onPressed: () => Navigator.pop(context), child: Text("No")),
                TextButton(onPressed: () => Navigator.pop(context), child: Text("Yes")),
              ],
            ),
          ),
        )
      ]),
      body: Center(
        child: index == 0
            ? Text("Home", style: TextStyle(fontSize: 24))
            : index == 1
                ? ListView(children: courses.map((c) => ListTile(title: Text(c))).toList())
                : Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    children: [
                      Text("Profile", style: TextStyle(fontSize: 24)),
                      DropdownButton<String>(
                        value: category,
                        items: ["Science", "Arts", "Technology"]
                            .map((c) => DropdownMenuItem(value: c, child: Text(c)))
                            .toList(),
                        onChanged: (val) => setState(() => category = val!),
                      ),
                      Text("Selected: $category"),
                      AnimatedContainer(
                        duration: Duration(milliseconds: 300),
                        width: btnSize,
                        height: btnSize,
                        child: ElevatedButton(
                            onPressed: () =>
                                setState(() => btnSize = btnSize == 60 ? 100 : 60),
                            child: Text("Enroll")),
                      )
                    ],
                  ),
      ),
      bottomNavigationBar: BottomNavigationBar(
        currentIndex: index,
        onTap: (i) => setState(() => index = i),
        items: [
          BottomNavigationBarItem(icon: Icon(Icons.home), label: "Home"),
          BottomNavigationBarItem(icon: Icon(Icons.book), label: "Courses"),
          BottomNavigationBarItem(icon: Icon(Icons.person), label: "Profile"),
        ],
      ),
    );
  }
}
